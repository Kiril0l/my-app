"use strict";(self.webpackChunkmmy_app=self.webpackChunkmmy_app||[]).push([[9],{5009:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var r=s(1413),o=s(5671),a=s(3144),n=s(136),i=s(3668),u=s(2791),l=s(8687),p={},d=s(6792),c={messageImg:"ProfileInfo_messageImg__W1E7m",textStyle:"ProfileInfo_textStyle__yt+FD",photo:"ProfileInfo_photo__hMaYU",errorTetx:"ProfileInfo_errorTetx__ewXLL"},h=s(885),f=s(184),x=function(t){var e=(0,u.useState)(!1),s=(0,h.Z)(e,2),r=s[0],o=s[1],a=(0,u.useState)(t.status),n=(0,h.Z)(a,2),i=n[0],l=n[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);var p=t.profile.userId==t.authId;return(0,f.jsx)("div",{children:r?(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(i)},onChange:function(t){l(t.currentTarget.value)},value:i})}):(0,f.jsx)("span",{onDoubleClick:p?function(){o(!0)}:"",children:t.status||"\u0423 \u043c\u0435\u043d\u044f \u043d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})})},v=function(t){if(!t.profile)return(0,f.jsx)(d.Z,{});var e=t.profile.userId==t.authId;return(0,f.jsxs)("div",{className:c.content,children:[(0,f.jsx)("div",{className:c.messageImg,children:(0,f.jsx)("img",{src:"https://st2.depositphotos.com/1184927/6310/i/600/depositphotos_63105155-stock-photo-purple-starry-background-for-facebook.jpg",alt:"fone"})}),(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:t.profile.photos.large||"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",className:c.photo,alt:"pofile page"})}),(0,f.jsx)("div",{children:e&&(0,f.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})}),(0,f.jsx)("div",{className:c.errorTetx,children:e&&t.error?(0,f.jsx)("div",{children:t.error}):(0,f.jsx)("div",{})}),(0,f.jsxs)("div",{className:c.textStyle,children:[(0,f.jsx)("p",{children:t.profile.fullName}),(0,f.jsx)("p",{children:(0,f.jsx)(x,{status:t.status,updateStatus:t.updateStatus,profile:t.profile,authId:t.authId})})]})]})},m=s(6508),j=s(2982),g="MyPosts_content__ytfjS",_="MyPosts_item__LwIpL",P="Post_content__RCWkG",k="Post_item__P7NC+",I="Post_messageImg__LfFNV",y="Post_messageText__dlB3U",N="Post_messageAuthor__w42-y",T="Post_messageLikes__T4DmL",C=function(t){return(0,f.jsx)("div",{className:P,children:(0,f.jsxs)("div",{className:k,children:[(0,f.jsx)("div",{className:I,children:(0,f.jsx)("img",{src:"https://www.blexar.com/avatar.png",alt:"ava"})}),(0,f.jsx)("div",{className:y,children:t.message}),(0,f.jsx)("div",{className:N,children:t.author}),(0,f.jsxs)("div",{className:T,children:["Likes ",t.like]})]})})},w=function(t){var e=(0,j.Z)(t.posts).reverse().map((function(t){return(0,f.jsx)(C,{message:t.message,author:t.author,like:t.like},t.id)}));return(0,f.jsx)("div",{className:g,children:(0,f.jsxs)("div",{className:_,children:["My Posts",(0,f.jsxs)("div",{children:[(0,f.jsx)("textarea",{name:"post",id:"",cols:"30",rows:"1",onChange:function(e){var s=e.target.value;t.updateNewPostText(s)},value:t.newPostText}),(0,f.jsx)("button",{onClick:function(){t.addNewPost()},children:"Add post"}),e]})]})})},S=(0,l.$j)((function(t){return{newPostText:t.profilePage.newPostText,posts:t.profilePage.posts}}),(function(t){return{addNewPost:function(){t((0,m.t2)())},updateNewPostText:function(e){t((0,m.PM)(e))}}}))(w),U=function(t){return(0,f.jsx)("div",{className:p.content,children:(0,f.jsxs)("div",{children:[(0,f.jsx)(v,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,authId:t.authId,savePhoto:t.savePhoto,error:t.error}),(0,f.jsx)(S,{})]})})},Z=s(6871),b=s(1867),L=s(7781),A=function(t){(0,n.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"uploadUser",value:function(){var t=this.props.router.params.userid;t||(t=this.props.authId),this.props.getUserProfileThunkCreator(t),this.props.getUserStatusThunkCreator(t)}},{key:"componentDidMount",value:function(){this.uploadUser()}},{key:"componentDidUpdate",value:function(t){this.props.router.params.userid!==t.router.params.userid&&this.uploadUser()}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)("div",{children:(0,f.jsx)(U,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatusThunkCreator,authId:this.props.authId,savePhoto:this.props.savePhotoThunkCreator,error:this.props.error}))})})}}]),s}(u.Component);var M=(0,L.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authId:t.auth.userId,isAuth:t.auth.isAuth,error:t.profilePage.error}}),{getUserProfileThunkCreator:m.om,getUserStatusThunkCreator:m.fG,updateUserStatusThunkCreator:m.X8,savePhotoThunkCreator:m.m2}),(function(t){return function(e){var s=(0,Z.TH)(),o=(0,Z.s0)(),a=(0,Z.UO)();return(0,f.jsx)(t,(0,r.Z)((0,r.Z)({},e),{},{router:{location:s,navigate:o,params:a}}))}}),b.V)(A)},1867:function(t,e,s){s.d(e,{V:function(){return u}});var r=s(1413),o=s(8687),a=s(6871),n=s(184),i=function(t){return{isAuth:t.auth.isAuth}},u=function(t){return(0,o.$j)(i)((function(e){return e.isAuth?(0,n.jsx)(t,(0,r.Z)({},e)):(0,n.jsx)(a.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=9.cc2a4a4b.chunk.js.map