"use strict";(self.webpackChunkmmy_app=self.webpackChunkmmy_app||[]).push([[136],{3812:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var o=s(1413),n=s(5671),r=s(3144),i=s(136),a=s(3668),u=s(2791),l=s(8687),c={},d=s(885),p=s(6792),h=s(5705),x=s(132),f=s(184),j=function(e){var t=x.Ry().shape({FullName:x.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),AboutMe:x.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),lookingForAJobDescription:x.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),s=e.profile.lookingForAJobDescription||"My skils",o=e.profile.aboutMe||"About me";return(0,f.jsx)("div",{children:(0,f.jsx)(h.J9,{initialValues:{FullName:e.profile.fullName,AboutMe:o,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:s,contacts:e.profile.contacts},validateOnBlur:!0,onSubmit:function(t){e.updateDataProfile(t).then((function(){e.setEditMode(!1)}))},validationSchema:t,children:function(e){var t=e.values,s=e.errors,o=e.handleChange,n=e.handleBlur,r=(e.isValid,e.handleSubmit);return(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{onClick:r,type:"submit",children:"save"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Open to work: "}),(0,f.jsx)(h.gN,{type:"checkbox",name:"lookingForAJob",component:"input"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me: "}),(0,f.jsx)("input",{type:"text",name:"AboutMe",onChange:o,onBlur:n,value:t.AboutMe})]}),s.AboutMe&&(0,f.jsx)("p",{children:s.AboutMe}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full name: "}),(0,f.jsx)("input",{type:"text",name:"FullName",onChange:o,onBlur:n,value:t.FullName})]}),s.FullName&&(0,f.jsx)("p",{children:s.FullName}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My skils: "}),(0,f.jsx)("input",{type:"text",name:"lookingForAJobDescription",onChange:o,onBlur:n,value:t.lookingForAJobDescription})]}),s.lookingForAJobDescription&&(0,f.jsx)("p",{children:s.lookingForAJobDescription}),(0,f.jsx)("div",{children:(0,f.jsx)("b",{children:"My contacts:"})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Facebook: "}),(0,f.jsx)("input",{type:"text",name:"contacts.facebook",onChange:o,onBlur:n,value:t.contacts.facebook})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Website: "}),(0,f.jsx)("input",{type:"text",name:"contacts.website",onChange:o,onBlur:n,value:t.contacts.website})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Vk: "}),(0,f.jsx)("input",{type:"text",name:"contacts.vk",onChange:o,onBlur:n,value:t.contacts.vk})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Twitter: "}),(0,f.jsx)("input",{type:"text",name:"contacts.twitter",onChange:o,onBlur:n,value:t.contacts.twitter})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Instagram: "}),(0,f.jsx)("input",{type:"text",name:"contacts.instagram",onChange:o,onBlur:n,value:t.contacts.instagram})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Youtube: "}),(0,f.jsx)("input",{type:"text",name:"contacts.youtube",onChange:o,onBlur:n,value:t.contacts.youtube})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Github: "}),(0,f.jsx)("input",{type:"text",name:"contacts.github",onChange:o,onBlur:n,value:t.contacts.github})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"MainLink: "}),(0,f.jsx)("input",{type:"text",name:"contacts.mainLink",onChange:o,onBlur:n,value:t.contacts.mainLink})]})]})}})})},v={messageImg:"ProfileInfo_messageImg__W1E7m",profileName:"ProfileInfo_profileName__lguWf",textStyle:"ProfileInfo_textStyle__yt+FD",photo:"ProfileInfo_photo__hMaYU",errorTetx:"ProfileInfo_errorTetx__ewXLL",listContacts:"ProfileInfo_listContacts__qhHkP"},m=function(e){var t=(0,u.useState)(!1),s=(0,d.Z)(t,2),o=s[0],n=s[1],r=(0,u.useState)(e.status),i=(0,d.Z)(r,2),a=i[0],l=i[1];(0,u.useEffect)((function(){l(e.status)}),[e.status]);var c=e.profile.userId==e.authId;return(0,f.jsx)("div",{children:o?(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(a)},onChange:function(e){l(e.currentTarget.value)},value:a})}):(0,f.jsx)("span",{onDoubleClick:c&&function(){n(!0)},children:e.status||"\u0423 \u043c\u0435\u043d\u044f \u043d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})})},g=function(e){return(0,f.jsxs)("div",{className:v.listContacts,children:[(0,f.jsxs)("b",{children:[e.contactTitle,":"]}),e.contactValue]})},b=function(e){return(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{onClick:function(){e.setEditMode(!0)},children:"Edit"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me: "}),e.profile.aboutMe]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Open to work: "}),e.profile.lookingForAJob?"Yes":"No"]}),e.profile.lookingForAJob&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My skils: "}),e.profile.lookingForAJobDescription]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My contacts:"}),Object.keys(e.profile.contacts).map((function(t){return(0,f.jsx)(g,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})},k=function(e){var t=(0,u.useState)(!1),s=(0,d.Z)(t,2),o=s[0],n=s[1];if(!e.profile)return(0,f.jsx)(p.Z,{});var r=e.profile.userId==e.authId;return(0,f.jsxs)("div",{className:v.content,children:[(0,f.jsx)("div",{className:v.messageImg,children:(0,f.jsx)("img",{src:"https://st2.depositphotos.com/1184927/6310/i/600/depositphotos_63105155-stock-photo-purple-starry-background-for-facebook.jpg",alt:"fone"})}),(0,f.jsxs)("div",{className:v.textStyle,children:[(0,f.jsx)("div",{className:v.profileName,children:e.profile.fullName}),(0,f.jsx)("div",{children:(0,f.jsx)(m,{status:e.status,updateStatus:e.updateStatus,profile:e.profile,authId:e.authId})}),(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:e.profile.photos.large||"https://shapka-youtube.ru/wp-content/uploads/2021/02/prikolnaya-avatarka-dlya-patsanov.jpg",className:v.photo,alt:"pofile page"})}),(0,f.jsx)("div",{children:r&&(0,f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})}),(0,f.jsx)("div",{className:v.errorTetx,children:r&&e.error?(0,f.jsx)("div",{children:e.error}):(0,f.jsx)("div",{})}),o?(0,f.jsx)(j,{isOwner:e.isOwner,takePhoto:e.takePhoto,profile:e.profile,setEditMode:n,updateDataProfile:e.updateDataProfile}):(0,f.jsx)(b,{isOwner:e.isOwner,takePhoto:e.takePhoto,profile:e.profile,setEditMode:n})]})]})},P=s(6508),_=s(2982),y="MyPosts_content__ytfjS",C="MyPosts_item__LwIpL",N="Post_content__RCWkG",A="Post_item__P7NC+",w="Post_messageImg__LfFNV",I="Post_messageText__dlB3U",F="Post_messageAuthor__w42-y",T="Post_messageLikes__T4DmL",M=function(e){return(0,f.jsx)("div",{className:N,children:(0,f.jsxs)("div",{className:A,children:[(0,f.jsx)("div",{className:w,children:(0,f.jsx)("img",{src:"https://www.blexar.com/avatar.png",alt:"ava"})}),(0,f.jsx)("div",{className:I,children:e.message}),(0,f.jsx)("div",{className:F,children:e.author}),(0,f.jsxs)("div",{className:T,children:["Likes ",e.like]})]})})},D=function(e){var t=(0,_.Z)(e.posts).reverse().map((function(e){return(0,f.jsx)(M,{message:e.message,author:e.author,like:e.like},e.id)}));return(0,f.jsx)("div",{className:y,children:(0,f.jsxs)("div",{className:C,children:["My Posts",(0,f.jsxs)("div",{children:[(0,f.jsx)("textarea",{name:"post",id:"",cols:"30",rows:"1",onChange:function(t){var s=t.target.value;e.updateNewPostText(s)},value:e.newPostText}),(0,f.jsx)("button",{onClick:function(){e.addNewPost()},children:"Add post"}),t]})]})})},S=(0,l.$j)((function(e){return{newPostText:e.profilePage.newPostText,posts:e.profilePage.posts}}),(function(e){return{addNewPost:function(){e((0,P.t2)())},updateNewPostText:function(t){e((0,P.PM)(t))}}}))(D),Z=function(e){return(0,f.jsx)("div",{className:c.content,children:(0,f.jsxs)("div",{children:[(0,f.jsx)(k,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,authId:e.authId,savePhoto:e.savePhoto,error:e.error,updateDataProfile:e.updateDataProfile}),(0,f.jsx)(S,{})]})})},B=s(6871),J=s(1867),U=s(7781),L=function(e){(0,i.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"uploadUser",value:function(){var e=this.props.router.params.userid;e||(e=this.props.authId),this.props.getUserProfileThunkCreator(e),this.props.getUserStatusThunkCreator(e)}},{key:"componentDidMount",value:function(){this.uploadUser()}},{key:"componentDidUpdate",value:function(e){this.props.router.params.userid!==e.router.params.userid&&this.uploadUser()}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)("div",{children:(0,f.jsx)(Z,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatusThunkCreator,authId:this.props.authId,savePhoto:this.props.savePhotoThunkCreator,updateDataProfile:this.props.updateDataProfileThunkCreator,error:this.props.error}))})})}}]),s}(u.Component);var O=(0,U.qC)((0,l.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authId:e.auth.userId,isAuth:e.auth.isAuth,error:e.profilePage.error}}),{getUserProfileThunkCreator:P.om,getUserStatusThunkCreator:P.fG,updateUserStatusThunkCreator:P.X8,savePhotoThunkCreator:P.m2,updateDataProfileThunkCreator:P.OI}),(function(e){return function(t){var s=(0,B.TH)(),n=(0,B.s0)(),r=(0,B.UO)();return(0,f.jsx)(e,(0,o.Z)((0,o.Z)({},t),{},{router:{location:s,navigate:n,params:r}}))}}),J.V)(L)},1867:function(e,t,s){s.d(t,{V:function(){return u}});var o=s(1413),n=s(8687),r=s(6871),i=s(184),a=function(e){return{isAuth:e.auth.isAuth}},u=function(e){return(0,n.$j)(a)((function(t){return t.isAuth?(0,i.jsx)(e,(0,o.Z)({},t)):(0,i.jsx)(r.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=136.32ee2604.chunk.js.map